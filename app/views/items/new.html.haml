.new-item-page
  .new-item-page__header
    = render "shared/header"
  .new-item-page__main
    %section.container
      %h2.container__head
        .container__head__title 商品の情報を入力
      
      = form_with model: @item, local: true do |f|
        .container__form
          .container__form__content.upload-images
            %label.upload-images__label
              出品画像
              %span.form-require 
                必須
            .upload-images__addition
              最大10枚までアップロードできます
            .upload-images__container
              .upload-images__container--uploaded
                .image-lists
                  %ul.item-image-wrapper.first-image-lists
                    -# %li.image-lists__list
                    -#   .item-image-wrapper__figure
                    -#     = image_tag "mercari_icon.png", alt: "イメージ1"
                    -#   .item-image-wrapper__button
                    -#     = link_to "編集", "#"
                    -#     = link_to "削除", "#"
                -# 6枚以上選択された際に出現するプレビュー用のラッパー
                .image-lists
                  %ul.item-image-wrapper.second-image-lists
              = f.label :images, class: "upload-images__container--now-upload" do
                -# TODO:jQueryで複数枚アップロード機能実装？(have-itemに変数でNoを設定)
                .now-upload-wrapper
                  = f.file_field :images, multiple: true, class: "now-upload-wrapper--input", data: {"total-items": 0}
                  %pre.input.upload-images__container--text
                    ドラッグアンドドロップ
                    またはクリックしてファイルをアップロード

          .container__form__content.item-about.clearfix
            .form-group
              %label.item-about__name 
                商品名
                %span.form-require 
                  必須
              = f.text_field :name, class: "item-about__name--input", placeholder: "商品名（必須 40文字まで)"
            .form-group
              %label.item-about__description 
                商品の説明
                %span.form-require 
                  必須
              = f.text_area :introduction, class: "item-about__description--input", placeholder: "商品の説明（必須1,000文字以内）（色、素材、重さ、定価、注意点など）例）2010年頃に1万円で購入したジャケットです。ライトグレーで傷はありません。あわせやすいのでおすすめです。"
          
          .container__form__content.item-detail.clearfix
            .item-detail__title.form-sub-title 商品の詳細
            .item-detail__right-box.form-right-box
              .form-group
                %label.item-detail__category
                  カテゴリー
                  %span.form-require 必須
                .select-categories-wrapper
                  .select-wrap
                    %i.fas.fa-angle-down
                    = f.collection_select :category_id, @parent_categories, :id, :name, {prompt: "---"}, {class: "select-wrap__input", id: "parent_category"}

                .form-group.select-item-sizes{style: "display: none;"}
                  %label.item-detail__category 
                    サイズ
                    %span.form-require 必須
                  .select-wrap
                    %i.fas.fa-angle-down
                    = f.select :size, Item.sizes_i18n.invert, {prompt: "---"}, {class: "select-wrap__input"}

                .form-group.input-item-brands{style: "display: none;"}
                  %label.item-detail__category 
                    ブランド
                    %span.form-arbitrary 任意
                  .select-wrap
                    = f.text_field :brand, class:"select-wrap__input", placeholder: "例）シャネル"

              .form-group
                %label.item-detail__state 
                  商品の状態
                  %span.form-require 必須
                .select-wrap
                  %i.fas.fa-angle-down
                  = f.select :state, Item.states_i18n.invert, {prompt: "---"}, {class: "select-wrap__input"}
          
          .container__form__content.delivery-setting.clearfix
            .delivery-setting__title.form-sub-title 配送について
            .delivery-setting__rightbox.form-right-box
              .form-group
                %label.delivery-setting__burden
                  配送料の負担
                  %span.form-require 
                    必須
                .select-wrap.select-delivery-burden
                  %i.fas.fa-angle-down
                  = f.select :delivery_fee, Item.delivery_fees_i18n.invert, {prompt: "---"}, {class: "select-wrap__input", id: "delivery-fee"}
              
              .select_delivery_wrapper.form-group
                .default-delivery-setting{style: "display: none;"}
                  %label.delivery-setting__burden
                    配送の方法
                    %span.form-require 
                      必須
                  .select-wrap
                    %i.fas.fa-angle-down
                    = f.select :delivery_method, Item.delivery_methods_i18n.invert, {prompt: "---"}, {class: "select-wrap__input"}

              .form-group
                %label.delivery-setting__region
                  発送元の地域
                  %span.form-require 
                    必須
                .select-wrap
                  %i.fas.fa-angle-down
                  = f.collection_select :city, Prefecture.all, :name, :name, {prompt: "---"}, {class: "select-wrap__input"}

              .form-group
                %label.delivery-setting__days
                  発送までの日数
                  %span.form-require 
                    必須
                .select-wrap
                  %i.fas.fa-angle-down
                  = f.select :delivery_days, Item.delivery_days_i18n.invert, {prompt: "---"}, {class: "select-wrap__input"}
                  
          .container__form__content.selling-item.clearfix
            .selling-item__title.form-sub-title
              販売価格(300〜9,999,999)
            %ul.selling-item__right-box.form-right-box
              %li.form-group.selling-item__price
                .selling-item__price__inner-left
                  %label.selling-item__price--setting
                    価格
                    %span.form-require 
                      必須
                .selling-item__price__inner-right
                  ¥
                  .selling-item__price__inner-right--input
                    = f.text_field :price, placeholder: "例)  300", id: "selling-item-price"
              %li.selling-item__fee.clearfix
                %p 販売手数料(10%)
                %p.sale-fee -
              %li.selling-item__profit.clearfix
                %p.selling-item__profit--title 販売利益
                %p.selling-item__profit--result -
        
          .container__form__content.confirmation-box.clearfix
            .confirmation-box__description
              %p<>
                = link_to "禁止されている出品", "#"
                、
                = link_to "行為", "#"
                を必ずご確認ください。
              %p<>
                またブランド品でシリアルナンバー等がある場合はご記載ください。
                = link_to "偽ブランドの販売", "#"
                は犯罪であり処罰される可能性があります。
              %p<> 
                また、出品をもちまして
                = link_to "加盟店規約", "#"
                に同意したことになります。
            .confirmation-box__btn
              .confirmation-box__btn--exhibition
                = f.submit "出品する", class: "confirmation-box__btn--exhibition btn btn-red"
              .confirmation-box__btn--back
                -# TODO:仮でroot_pathに設定。ユーザー登録機能の実装後、ユーザーマイページへリンクを書き換える必要あり
                = link_to 'もどる', root_path, class: "confirmation-box__btn--back btn btn-gray"

  %footer.new-item-page__footer
    %nav.new-item-page__footer__nav
      %ul.lists
        %li.lists--list
          = link_to "プライバシーポリシー", "/", class: "lists--list--link"
        %li.lists--list
          = link_to "メルカリ利用規約", "/", class: "lists--list--link"
        %li.lists--list
          = link_to "特定商取引に関する表記", "/", class: "lists--list--link"
    %a.new-item-page__footer__logo{ href: "#" }
      = image_tag "mercariLogoGray.svg", alt: "mercari", class: "new-item-footer__logo__img"
    %p.new-item-page__footer__trademark
      %small © 2019 Mercari
